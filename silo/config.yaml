name: Silo Feed Reader
version: "1.0.0"
slug: silo
description: Self-hosted RSS/Atom feed reader with AI-powered daily briefs
url: https://github.com/kebabmane/silo-hass-addon/tree/main/silo
init: false

# Supported architectures
arch:
  - aarch64
  - amd64
  - armv7
  - armhf

# Ingress configuration (embedded in HA sidebar)
ingress: true
ingress_port: 8099
ingress_entry: /
ingress_stream: true

# Panel settings
panel_icon: mdi:rss
panel_title: Silo

# Startup order - after Home Assistant
startup: application
boot: auto

# Timeout for Rails startup
timeout: 300

# Persistence
map:
  - addon_config:rw

# User-configurable options
options:
  timezone: "UTC"
  log_level: "info"
  rails_max_threads: 5
  secret_key_base: ""
  rails_master_key: ""
  admin_email: ""
  litellm_base_url: ""
  litellm_api_key: ""
  litellm_model: ""

# Schema validation
schema:
  timezone: str
  log_level: list(debug|info|warn|error|fatal)
  rails_max_threads: int(1,20)
  secret_key_base: str?
  rails_master_key: password
  admin_email: email?
  litellm_base_url: url?
  litellm_api_key: str?
  litellm_model: str?

# Health check
watchdog: http://[HOST]:[PORT:8099]/up

# Backup configuration
backup: hot
backup_exclude:
  - "*.log"
  - "tmp/*"

# Security - no special privileges needed
privileged: []
host_network: false

# Container image
image: ghcr.io/kebabmane/silo-hass-addon/{arch}-silo
